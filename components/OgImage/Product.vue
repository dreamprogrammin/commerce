<script setup lang="ts">
const props = defineProps<{
  title: string
  price: number
  imageUrl?: string
  category?: string
  inStock: boolean
}>()

// –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ü–µ–Ω—É.
// –ï—Å–ª–∏ price –Ω–µ –ø—Ä–∏–¥–µ—Ç, –±—É–¥–µ—Ç 0.
const formattedPrice = computed(() => {
  return new Intl.NumberFormat('ru-RU').format(Math.round(props.price || 0))
})
</script>

<template>
  <!--
    –°—Ç–∏–ª–∏ Satori:
    1. font-family –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º, —á—Ç–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ (Inter).
    2. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º display: flex –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
  -->
  <div
    style="
      width: 100%;
      height: 100%;
      display: flex;
      background-image: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
      font-family: 'Inter', sans-serif;
      color: white;
    "
  >
    <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
    <div
      style="
        width: 50%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 60px;
      "
    >
      <div
        style="
          display: flex;
          width: 100%;
          height: 100%;
          background-color: white;
          border-radius: 30px;
          align-items: center;
          justify-content: center;
          box-shadow: 0 20px 50px rgba(0,0,0,0.3);
          overflow: hidden;
        "
      >
        <!--
           –í–∞–∂–Ω–æ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏:
           –ï—Å–ª–∏ URL –Ω–µ—Ç –∏–ª–∏ –æ–Ω –±–∏—Ç—ã–π, –ø–æ–∫–∞–∂–µ–º —ç–º–æ–¥–∑–∏.
           –î–ª—è img –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å object-fit –≤ style.
        -->
        <img
          v-if="imageUrl"
          :src="imageUrl"
          width="400"
          height="400"
          style="
            width: 100%;
            height: 100%;
            object-fit: contain;
          "
        >
        <div v-else style="font-size: 100px;">
          üì¶
        </div>
      </div>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –¢–µ–∫—Å—Ç -->
    <div
      style="
        width: 50%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding-right: 60px;
      "
    >
      <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è / –ú–∞–≥–∞–∑–∏–Ω -->
      <div style="display: flex; font-size: 24px; opacity: 0.8; margin-bottom: 20px;">
        {{ category || '–ú–∞–≥–∞–∑–∏–Ω' }}
      </div>

      <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ -->
      <div
        style="
          display: flex;
          font-size: 48px;
          font-weight: 900;
          line-height: 1.1;
          margin-bottom: 40px;
          text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        "
      >
        {{ title || '–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞' }}
      </div>

      <!-- –¶–µ–Ω–∞ -->
      <div style="display: flex; align-items: center; gap: 20px;">
        <div style="font-size: 64px; font-weight: 700;">
          {{ formattedPrice }} ‚Ç∏
        </div>
      </div>

      <!-- –ü–ª–∞—à–∫–∞ –Ω–∞–ª–∏—á–∏—è -->
      <div style="display: flex; margin-top: 30px;">
        <div
          :style="{
            backgroundColor: inStock ? '#22c55e' : '#ef4444',
            padding: '10px 25px',
            borderRadius: '20px',
            fontSize: '24px',
            fontWeight: 700,
            color: 'white',
            display: 'flex',
          }"
        >
          {{ inStock ? '‚úì –í –Ω–∞–ª–∏—á–∏–∏' : '‚úó –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' }}
        </div>
      </div>
    </div>
  </div>
</template>
