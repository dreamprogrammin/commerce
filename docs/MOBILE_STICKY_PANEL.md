# Sticky –ø–∞–Ω–µ–ª—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∫–∞–∫ –≤ –î–µ—Ç—Å–∫–æ–º –º–∏—Ä–µ)

### ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥ - –í–°–ï–ì–î–ê –í–ò–î–ù–ê

–ü–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å IntersectionObserver –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º —Å–∫—Ä–æ–ª–ª–∞, –º—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ **—Å–∞–º–æ–º—É –ø—Ä–æ—Å—Ç–æ–º—É –∏ –Ω–∞–¥–µ–∂–Ω–æ–º—É** —Ä–µ—à–µ–Ω–∏—é:

**–ü–∞–Ω–µ–ª—å –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö** (< 1024px)

## –ö–æ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```vue
<!-- Sticky –ø–∞–Ω–µ–ª—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (–∫–∞–∫ –≤ –î–µ—Ç—Å–∫–æ–º –º–∏—Ä–µ - –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞) -->
<ClientOnly>
  <div
    v-if="product"
    class="lg:hidden fixed bottom-16 left-0 right-0 bg-white border-t-2 border-primary/10 shadow-[0_-4px_12px_rgba(0,0,0,0.08)] z-40"
  >
    <!-- –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä –ù–ï –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
    <div v-if="!mainItemInCart" class="px-4 py-3">
      <div class="flex items-center justify-between gap-4">
        <!-- –¶–µ–Ω–∞ -->
        <div class="flex-shrink-0">
          <p class="text-xs text-muted-foreground mb-0.5">–¶–µ–Ω–∞</p>
          <div class="flex items-baseline gap-1">
            <p class="text-2xl font-bold text-primary">{{ formatPrice(totalPrice) }}</p>
            <span class="text-xl font-bold text-primary">‚Ç∏</span>
          </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ -->
        <Button class="flex-1 h-12" @click="addToCart">
          –í –∫–æ—Ä–∑–∏–Ω—É
        </Button>
      </div>
    </div>

    <!-- –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä –£–ñ–ï –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
    <div v-else class="px-4 py-3">
      <Button @click="router.push('/cart')">
        –í –∫–æ—Ä–∑–∏–Ω–µ ({{ quantityInCart }})
      </Button>
      <QuantitySelector />
    </div>
  </div>
</ClientOnly>
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞

- –ù–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å IntersectionObserver
- –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫—Ä–æ–ª–ª–∞
- –ù–µ—Ç –∞–Ω–∏–º–∞—Ü–∏–π –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è

### ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

- –†–∞–±–æ—Ç–∞–µ—Ç –í–°–ï–ì–î–ê (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
- –ù–ï "—Å–∫–∞—á–µ—Ç" –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- –ù–ï –∏—Å—á–µ–∑–∞–µ—Ç –≤–Ω–µ–∑–∞–ø–Ω–æ

### ‚úÖ UX –∫–∞–∫ –≤ –î–µ—Ç—Å–∫–æ–º –º–∏—Ä–µ

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –í–°–ï–ì–î–ê –≤–∏–¥–∏—Ç —Ü–µ–Ω—É –∏ –∫–Ω–æ–ø–∫—É
- –ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É —Å –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ü—Ä–∏–≤—ã—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ú–∏–Ω–∏–º—É–º JavaScript
- –ù–µ—Ç –ª–∏—à–Ω–∏—Ö event listeners
- –ù–µ—Ç re-renders –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ

## –î–∏–∑–∞–π–Ω –ø–∞–Ω–µ–ª–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏

```css
/* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ */
position: fixed;
bottom: 16px; /* 64px - –≤—ã—Å–æ—Ç–∞ –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
left: 0;
right: 0;
z-index: 40;

/* –î–∏–∑–∞–π–Ω */
background: white;
border-top: 2px solid rgba(primary, 0.1);
box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.08);
```

### –î–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**1. –¢–æ–≤–∞—Ä –ù–ï –≤ –∫–æ—Ä–∑–∏–Ω–µ:**

- –¶–µ–Ω–∞ (–∫—Ä—É–ø–Ω–æ, —Å–ª–µ–≤–∞)
- –ö–Ω–æ–ø–∫–∞ "–í –∫–æ—Ä–∑–∏–Ω—É" (—Å–ø—Ä–∞–≤–∞, —Ä–∞—Å—Ç—è–Ω—É—Ç–∞)

**2. –¢–æ–≤–∞—Ä –£–ñ–ï –≤ –∫–æ—Ä–∑–∏–Ω–µ:**

- –ö–Ω–æ–ø–∫–∞ "–í –∫–æ—Ä–∑–∏–Ω–µ (N)" (–ø–µ—Ä–µ—Ö–æ–¥ –≤ –∫–æ—Ä–∑–∏–Ω—É)
- –°–µ–ª–µ–∫—Ç–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (—Å–ø—Ä–∞–≤–∞)

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏

| –ü–æ–¥—Ö–æ–¥                             | –ü–ª—é—Å—ã                  | –ú–∏–Ω—É—Å—ã                      |
| ---------------------------------- | ---------------------- | --------------------------- |
| **IntersectionObserver + —Å–∫—Ä–æ–ª–ª**  | –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞           | –°–ª–æ–∂–Ω–æ, —Å–∫–∞—á–µ—Ç, –±–∞–≥–∏        |
| **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ "–ü–æ—Ö–æ–∂–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤"** | -                      | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ = –±–∞–≥–∏ |
| **–í—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞ (—Ç–µ–∫—É—â–∏–π)**         | ‚úÖ –ü—Ä–æ—Å—Ç–æ, –Ω–∞–¥–µ–∂–Ω–æ, UX | –ó–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤–Ω–∏–∑—É        |

## –ü–æ—á–µ–º—É "–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞" –ª—É—á—à–µ?

### üéØ –£–¥–æ–±—Å—Ç–≤–æ

–ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ω–µ —Ö–æ—á–µ—Ç —Å–∫—Ä–æ–ª–ª–∏—Ç—å –≤–≤–µ—Ä—Ö**, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É. –ü–∞–Ω–µ–ª—å –≤—Å–µ–≥–¥–∞ –ø–æ–¥ —Ä—É–∫–æ–π.

### üì± –°—Ç–∞–Ω–¥–∞—Ä—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏–∏

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫—Ä—É–ø–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ (–î–µ—Ç—Å–∫–∏–π –º–∏—Ä, Wildberries, Ozon) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥.

### üêõ –ú–µ–Ω—å—à–µ –±–∞–≥–æ–≤

–ß–µ–º –ø—Ä–æ—â–µ –∫–æ–¥, —Ç–µ–º –º–µ–Ω—å—à–µ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –±–∞–≥–æ–≤ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

## –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```css
bottom: 16px; /* 4rem = 64px */
```

**–í–∞–∂–Ω–æ:** `bottom: 16px` (64px) —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã—Å–æ—Ç—É –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —á—Ç–æ–±—ã –ø–∞–Ω–µ–ª—å –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∞ –µ—ë.

## Troubleshooting

### –ü–∞–Ω–µ–ª—å –Ω–µ –≤–∏–¥–Ω–∞?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —à–∏—Ä–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞ < 1024px
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `product` –Ω–µ null
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ z-index (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)

### –ü–∞–Ω–µ–ª—å –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –Ω–∏–∂–Ω—é—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é?

–£–≤–µ–ª–∏—á—å—Ç–µ `bottom: 16px` –¥–æ –Ω—É–∂–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–≤—ã—Å–æ—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ + –æ—Ç—Å—Ç—É–ø)

### –ü–∞–Ω–µ–ª—å —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è?

–£–º–µ–Ω—å—à–∏—Ç–µ padding: `py-3` ‚Üí `py-2`

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**v1 (—Å–ª–æ–∂–Ω—ã–π):** IntersectionObserver + –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞

- ‚ùå –°–∫–∞—á–µ—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚ùå –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚ùå –ë–∞–≥–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ DOM

**v2 (—Ç–µ–∫—É—â–∏–π):** –í—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞

- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∫–æ–¥
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ UX –∫–∞–∫ –≤ –î–µ—Ç—Å–∫–æ–º –º–∏—Ä–µ
